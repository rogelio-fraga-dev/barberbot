spring:
  application:
    name: barberbot-assist
  
  datasource:
    url: jdbc:postgresql://localhost:5432/barberbot_db
    username: barberbot_user
    password: barberbot_pass
    driver-class-name: org.postgresql.Driver
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
  
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

server:
  port: 8081

# Configura√ß√µes do Bot
barberbot:
  admin:
    # N√∫mero do admin (quem ENVIA mensagens para o bot). Pode ser com ou sem 55.
    # N√£o √© o n√∫mero do WhatsApp conectado ao Evolution (esse √© o "bot").
    phone: "34984141504"
  evolution:
    base-url: "http://localhost:8080"
    instance-name: "BarberBot"
    api-key: "${EVOLUTION_API_KEY:barberbot}" # API Key da Evolution API
  openai:
    api-key: "${OPENAI_API_KEY}" # OBRIGAT√ìRIO - Definir como vari√°vel de ambiente
    model: "gpt-4o"
    vision-model: "gpt-4o"
    whisper-model: "whisper-1"
    temperature: 0.7
  schedule:
    delay-minutes: 60 # Delay para envio de avalia√ß√£o ap√≥s o corte
    batch-size: 1 # Mensagens por lote (para evitar spam)
    delay-between-messages: 60000 # 60 segundos entre mensagens
  # Menu interativo (opcional): textos e links que aparecem ao tocar nas op√ß√µes
  menu:
    address-text: "üìç Rua Exemplo, 123 - Centro"
    address-maps-url: "https://maps.google.com/..."
    services-text: "üí∞ Corte R$ 40 | Barba R$ 25 | Combo R$ 60"
    schedule-url: "https://sua-plataforma.com/agendar"
    instagram-url: "https://instagram.com/sua_barbearia"

# Logging - n√≠veis mais limpos (menos spam)
logging:
  level:
    root: WARN
    com.barberbot: INFO
    org.springframework.web: WARN
    org.springframework.web.reactive: WARN
    org.hibernate.SQL: WARN
    org.hibernate.type.descriptor.sql: WARN
